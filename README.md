# 📚 Wattpad Reader + Summarizer (Dockerized)

This project scrapes all chapters from a Wattpad book and generates short summaries for each one using the OpenAI API. Designed to run fully in Docker, including GitHub Codespaces.

---

## 🚀 How to Run

### 1. Clone this repo and create a `.env` file in the root directory:

```
START_URL=https://www.wattpad.com/1496499481-fronteira-23-pref%C3%A1cio
OPENAI_API_KEY=sk-xxxxx...    # your OpenAI API key
```

---

### 2. Run the scraper (to download all chapters):

```
docker compose run scraper
```

This will generate a `shared/chapters.json` file.

---

### 3. Run the summarizer (to create summaries):

```
docker compose run summarizer
```

This will generate a `shared/summaries.json` file.

---

## 📦 Services

| Service      | Description                                |
| ------------ | ------------------------------------------ |
| `scraper`    | Scrapes Wattpad chapters from START_URL    |
| `summarizer` | Generates summaries using OpenAI GPT-4     |
| `backend`    | _(optional)_ Serves summaries via HTTP API |

---

## 📁 Project Structure

```
.
├── backend/           # REST API (optional)
├── scraper/           # Wattpad scraper script
├── summarizer/        # GPT-based summarizer
├── shared/            # JSON files shared between services
├── docker-compose.yml
└── .env               # API key and starting URL
```

---

## 🧠 Notes

- The `scraper` and `summarizer` containers are **single-run scripts**, not long-running services.
- Therefore, **use `docker compose run <service>` instead of `docker compose up`**.
- The `backend` service is useful for exposing `/chapters` and `/summaries` via HTTP.

---

## ✅ Example Output

- `shared/chapters.json`: raw chapters scraped from Wattpad
- `shared/summaries.json`: chapter summaries generated by OpenAI
